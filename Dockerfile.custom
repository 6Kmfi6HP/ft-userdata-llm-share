# 基于官方freqtrade镜像
FROM freqtradeorg/freqtrade:stable

# 切换到root用户安装依赖
USER root

# 安装额外的Python依赖
RUN pip install --no-cache-dir \
    chromadb>=0.4.22 \
    requests>=2.31.0 \
    numpy>=1.20.0 \
    faiss-cpu>=1.7.0 \
    mplfinance>=0.12.10 \
    matplotlib>=3.7.0 \
    pillow>=10.0.0 \
    google-genai \
    tenacity>=8.0.0

# 切换回freqtrade用户
USER ftuser

# 保持原有的启动命令
